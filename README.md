# Cisco CTVM –≤ Proxmox VE

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è **Cisco CTVM** (Cisco Threat Grid / Secure Endpoint) –≤ **Proxmox VE 9.x** —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Å–µ—Ç–µ–≤–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã —á–µ—Ä–µ–∑ **Open vSwitch**.

> ‚ö†Ô∏è **–í–∞–∂–Ω–æ**: –≠—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω **—Ç–æ–ª—å–∫–æ –¥–ª—è –æ–±—Ä–∞–∑–æ–≤ Cisco CTVM**, –ø–æ—Å—Ç–∞–≤–ª—è–µ–º—ã—Ö –≤ —Ñ–æ—Ä–º–∞—Ç–µ `.ova` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `AIR_CTVM_LARGE_8_10_196_0.ova`).  
> –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å –ø—Ä–∞–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–π –æ–±—Ä–∞–∑ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –ª–∏—Ü–µ–Ω–∑–∏–µ–π Cisco.

---

## üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –í–ú –≤ Proxmox
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Open vSwitch –º–æ—Å—Ç–∞ `ovsbr` (—Ç—Ä–µ–±—É–µ—Ç—Å—è Cisco)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–≤—É—Ö —Å–µ—Ç–µ–≤—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ MAC-–∞–¥—Ä–µ—Å–∞–º–∏
- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π OVF-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π Cisco
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —á–µ—Ä–µ–∑ ISO-–æ–±—Ä–∞–∑

---

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Proxmox VE 9.0+**
- –î–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Å–æ–ª–∏ —Ö–æ—Å—Ç–∞ —Å –ø—Ä–∞–≤–∞–º–∏ `root`
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –æ–±—Ä–∞–∑ –≤ —Ñ–æ—Ä–º–∞—Ç–µ `.ova` (–∏–∑–≤–ª–µ—á—ë–Ω–Ω—ã–π: `.iso` + `.ovf`)
- –§–∏–∑–∏—á–µ—Å–∫–∏–π —Å–µ—Ç–µ–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –ø–æ–¥–∫–ª—é—á—ë–Ω–Ω—ã–π –∫ Linux-–º–æ—Å—Ç—É (–æ–±—ã—á–Ω–æ `vmbr0`)
- –ú–∏–Ω–∏–º—É–º **8 –ì–ë RAM** –∏ **20 –ì–ë —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞** –Ω–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

---

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–ò–∑–≤–ª–µ–∫–∏—Ç–µ `.ova`** (—ç—Ç–æ TAR-–∞—Ä—Ö–∏–≤):
```
tar -xvf AIR_CTVM_LARGE_8_10_196_0.ova
```

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –ø–æ–ª—É—á–∏–ª–∏:
- `AS_CTVM_LARGE_8_10_196_0.iso` (—É—Å—Ç–∞–Ω–æ–≤–æ—á–Ω—ã–π –æ–±—Ä–∞–∑)
- `AS_CTVM_LARGE_8_10_196_0.ovf` (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)

2. **–ü–æ–º–µ—Å—Ç–∏—Ç–µ `.iso`** –≤ –∫–∞—Ç–∞–ª–æ–≥ —à–∞–±–ª–æ–Ω–æ–≤ Proxmox, –Ω–∞–ø—Ä–∏–º–µ—Ä:
```
mkdir -p /mnt/data/template/iso
cp AS_CTVM_LARGE_8_10_196_0.iso /mnt/data/template/iso/
```
3. **–°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π** –Ω–∞ –≤–∞—à Proxmox-—Ö–æ—Å—Ç:
```
git clone https://github.com/88NeX/Cisco-WLC-proxmox.git
cd Cisco-WLC-proxmox
```
4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã** –≤ —Å–∫—Ä–∏–ø—Ç–µ `setup_cisco_ctvm.sh`:
- `ISO_PATH` ‚Äî –ø—É—Ç—å –∫ `.iso`
- `STORAGE` ‚Äî –∏–º—è —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ (`local-lvm`, `local`, –∏ —Ç.–¥.)
- `BRIDGE_PHYSICAL` ‚Äî –≤–∞—à –æ—Å–Ω–æ–≤–Ω–æ–π –º–æ—Å—Ç (–æ–±—ã—á–Ω–æ `vmbr0`)
- `VMID` ‚Äî ID –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã

5. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç**:
```
chmod +x setup_cisco_ctvm.sh
sudo ./setup_cisco_ctvm.sh
```

6. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –í–ú**:
```
qm start 104
```

---

## üß™ –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

- –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –∫–æ–Ω—Å–æ–ª–∏ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Proxmox.
- –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ (–º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å 10‚Äì30 –º–∏–Ω—É—Ç).
- –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ **–æ—Ç–∫–ª—é—á–∏—Ç–µ ISO**, —á—Ç–æ–±—ã —Å–∏—Å—Ç–µ–º–∞ –∑–∞–≥—Ä—É–∂–∞–ª–∞—Å—å —Å –¥–∏—Å–∫–∞:
```
qm set 104 --ide2 none,media=cdrom
```
- –ù–∞–π–¥–∏—Ç–µ IP-–∞–¥—Ä–µ—Å –í–ú:
```
arp -a | grep 00:50:56:01:00:01
```
- –û—Ç–∫—Ä–æ–π—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: `https://<IP-–í–ú>`

---

## üîß –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç       | –ó–Ω–∞—á–µ–Ω–∏–µ                     |
|----------------|-----------------------------|
| CPU            | `kvm64`, 2 —è–¥—Ä–∞             |
| RAM            | 8192 –ú–ë                     |
| –î–∏—Å–∫           | 8 –ì–ë, raw, `virtio-scsi-pci`|
| –°–µ—Ç—å           | 2 √ó `e1000` –∫ `ovsbr`       |
| MAC-–∞–¥—Ä–µ—Å–∞     | `00:50:56:01:00:01/02`      |
| BIOS           | SeaBIOS                     |
| –í–∏–¥–µ–æ          | VMware SVGA                 |

---

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π **MIT**.

> ‚ö†Ô∏è **–û–±—Ä–∞–∑ Cisco CTVM (`*.iso`, `*.ova`) –ù–ï –≤—Ö–æ–¥–∏—Ç –≤ —Å–æ—Å—Ç–∞–≤ —ç—Ç–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è** –∏ –æ—Å—Ç–∞—ë—Ç—Å—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å—é **Cisco Systems, Inc.**  
> –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –ª–µ–≥–∞–ª—å–Ω–æ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –æ–±—Ä–∞–∑—ã.

---

## üôå –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ,
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ ISO-—Ñ–∞–π–ª —Ü–µ–ª—ã–π,
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `qm monitor 104` –∏ `dmesg` –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏.

**Pull requests –∏ issue –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è!**







